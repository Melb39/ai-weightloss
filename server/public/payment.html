<!DOCTYPE html>
<html>
<head>
  <title>7-Day AI Weight Loss Plan</title>
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
  <h1>7-Day AI Weight Loss Plan</h1>
  <p>Pay $4.99 to unlock your personalized plan</p>
  <button id="checkout-button">Buy Now</button>

  <script>
    const stripe = Stripe("pk_test_51RlQblR9f7o7uoJrYYeD9NcKBgUD0waRf40mLJfxwwXmBonxfOLAlSlg1LCN82fGvOjMEHoRnSYdeji8vc5oCnFM00Cdlva8UY"); // Replace with your real publishable key

    document.getElementById('checkout-button').addEventListener('click', async () => {
      const response = await fetch('/create-checkout-session', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
      });

      const session = await response.json();
      const result = await stripe.redirectToCheckout({ sessionId: session.id });

      if (result.error) {
        alert(result.error.message);
      }
    });
  </script>
</body>
</html>
